<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jiaoke.dao.LocationDao">
    
	<select id="getLocation"  resultType="com.jiaoke.bean.CityLocation" >
			SELECT 
			`id`,
			`citycode`,
			`prostatus`,
			`proname`,
			`promessage`,
			FORMAT(`latitude`, 6) AS latitude, 
			FORMAT(`longitude`, 6) AS longitude
			FROM `city_location`
	</select>
	
	<select id="getcityLocalion"  resultType="com.jiaoke.bean.CityCode"  >
			SELECT 
			cl.`id`,
			`citycode`,
			`prostatus`,
			`proname`,
			FORMAT(`latitude`, 6) AS latitude, 
			FORMAT(`longitude`, 6) AS longitude,
			city_lat AS cityLat,
			city_lng AS cityLng
			FROM city_code AS cc
			LEFT JOIN `city_location` AS cl 
			ON cc.`id`= cl.`citycode`
			WHERE cc.id = #{citycode}
	
	</select>
    
	<select id="getProject" resultType="com.jiaoke.bean.CityLocation" >
	
			SELECT 
			`id`,
			`citycode`,
			`prostatus`,
			`proname`,
			`promessage`,
			FORMAT(`latitude`, 6) AS latitude, 
			FORMAT(`longitude`, 6) AS longitude
			FROM `city_location`
			where prostatus = #{prostatus}
	
	</select>
    
    <select id="getProMessage" resultType="com.jiaoke.bean.CityLocation" >
    	select * from `city_location` where id = #{valueOf}
    </select>
    
</mapper>